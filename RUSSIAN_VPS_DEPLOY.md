# üá∑üá∫ –î–µ–ø–ª–æ–π –Ω–∞ —Ä–æ—Å—Å–∏–π—Å–∫–∏–π VPS —á–µ—Ä–µ–∑ Docker

–ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ —Ä–æ—Å—Å–∏–π—Å–∫–æ–º VPS —Å–µ—Ä–≤–µ—Ä–µ.

## üèÜ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Ä–æ—Å—Å–∏–π—Å–∫–∏–µ VPS –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã

### 1. **Timeweb Cloud** (–†–µ–∫–æ–º–µ–Ω–¥—É—é!)
- üí∞ **–¶–µ–Ω–∞:** –û—Ç 249‚ÇΩ/–º–µ—Å—è—Ü
- üöÄ **–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:** 1 CPU, 1GB RAM, 10GB SSD
- ‚ö° **–ü–ª—é—Å—ã:**
  - –û—Ç–ª–∏—á–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–∞ —Ä—É—Å—Å–∫–æ–º
  - –ë—ã—Å—Ç—Ä–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ (1-2 –º–∏–Ω—É—Ç—ã)
  - –î–∞—Ç–∞—Ü–µ–Ω—Ç—Ä—ã –≤ –ú–æ—Å–∫–≤–µ –∏ –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥–µ
  - –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Ç–µ—Å—Ç–æ–≤—ã–π –ø–µ—Ä–∏–æ–¥
  - –£–¥–æ–±–Ω–∞—è –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- üåê **–°–∞–π—Ç:** https://timeweb.cloud
- ‚úÖ **–õ—É—á—à–∏–π –≤–∞—Ä–∏–∞–Ω—Ç –¥–ª—è –Ω–∞—á–∞–ª–∞**

### 2. **Selectel**
- üí∞ **–¶–µ–Ω–∞:** –û—Ç 300‚ÇΩ/–º–µ—Å—è—Ü
- üöÄ **–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:** 1 vCPU, 1GB RAM, 10GB SSD
- ‚ö° **–ü–ª—é—Å—ã:**
  - –ö—Ä—É–ø–Ω—ã–π –Ω–∞–¥–µ–∂–Ω—ã–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä
  - –î–∞—Ç–∞—Ü–µ–Ω—Ç—Ä—ã –ø–æ –≤—Å–µ–π –†–æ—Å—Å–∏–∏
  - –•–æ—Ä–æ—à–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Kubernetes
- üåê **–°–∞–π—Ç:** https://selectel.ru
- ‚úÖ **–î–ª—è —Å–µ—Ä—å–µ–∑–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤**

### 3. **REG.RU**
- üí∞ **–¶–µ–Ω–∞:** –û—Ç 200‚ÇΩ/–º–µ—Å—è—Ü
- üöÄ **–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:** 1 CPU, 512MB RAM, 10GB SSD
- ‚ö° **–ü–ª—é—Å—ã:**
  - –°–∞–º—ã–π –¥–µ—à–µ–≤—ã–π –≤–∞—Ä–∏–∞–Ω—Ç
  - –ú–æ–∂–Ω–æ —Ç–∞–º –∂–µ –∫—É–ø–∏—Ç—å –¥–æ–º–µ–Ω
  - –ü—Ä–æ—Å—Ç–∞—è –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- üåê **–°–∞–π—Ç:** https://www.reg.ru/vps
- ‚úÖ **–î–ª—è —ç–∫–æ–Ω–æ–º–∏–∏**

### 4. **Beget**
- üí∞ **–¶–µ–Ω–∞:** –û—Ç 350‚ÇΩ/–º–µ—Å—è—Ü
- üöÄ **–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:** 1 CPU, 1GB RAM, 10GB SSD
- ‚ö° **–ü–ª—é—Å—ã:**
  - –û—Ç–ª–∏—á–Ω–∞—è —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∞
  - –ü—Ä–æ—Å—Ç–æ—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã
- üåê **–°–∞–π—Ç:** https://beget.com/ru/vps
- ‚úÖ **–î–ª—è –Ω–æ–≤–∏—á–∫–æ–≤**

### 5. **VDSina.ru**
- üí∞ **–¶–µ–Ω–∞:** –û—Ç 149‚ÇΩ/–º–µ—Å—è—Ü
- üöÄ **–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:** 1 CPU, 512MB RAM, 5GB SSD
- ‚ö° **–ü–ª—é—Å—ã:**
  - –û—á–µ–Ω—å –¥–µ—à–µ–≤–æ
  - –ë—ã—Å—Ç—Ä–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
  - –ü–æ—á–∞—Å–æ–≤–∞—è –æ–ø–ª–∞—Ç–∞
- üåê **–°–∞–π—Ç:** https://vdsina.ru
- ‚úÖ **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –±—é–¥–∂–µ—Ç**

---

## üìã –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è –¥–µ–ø–ª–æ—è

- ‚úÖ VPS —Å–µ—Ä–≤–µ—Ä (Ubuntu 22.04 LTS) - –º–∏–Ω–∏–º—É–º 1GB RAM
- ‚úÖ –î–æ–º–µ–Ω–Ω–æ–µ –∏–º—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- ‚úÖ SSH –¥–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–µ—Ä—É
- ‚úÖ 20-30 –º–∏–Ω—É—Ç –≤—Ä–µ–º–µ–Ω–∏

---

## üöÄ –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

### –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ VPS —Å–µ—Ä–≤–µ—Ä–∞ (5 –º–∏–Ω—É—Ç)

#### –î–ª—è Timeweb Cloud:

1. **–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å** –Ω–∞ https://timeweb.cloud
2. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "–û–±–ª–∞—á–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä—ã"**
3. **–ù–∞–∂–º–∏—Ç–µ "–°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–µ—Ä"**
4. **–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:**
   - **–û–°:** Ubuntu 22.04 LTS
   - **–õ–æ–∫–∞—Ü–∏—è:** –ú–æ—Å–∫–≤–∞ –∏–ª–∏ –°–ü–± (–±–ª–∏–∂–µ –∫ –≤–∞–º)
   - **–¢–∞—Ä–∏—Ñ:** –ù–∞—á–∞–ª—å–Ω—ã–π (1 CPU, 1GB RAM) - 249‚ÇΩ/–º–µ—Å
   - **SSH –∫–ª—é—á:** –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∏–ª–∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å–≤–æ–π –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á
5. **–ù–∞–∂–º–∏—Ç–µ "–ó–∞–∫–∞–∑–∞—Ç—å"**
6. ‚è±Ô∏è **–ü–æ–¥–æ–∂–¥–∏—Ç–µ 1-2 –º–∏–Ω—É—Ç—ã** - —Å–µ—Ä–≤–µ—Ä —Å–æ–∑–¥–∞–µ—Ç—Å—è
7. **–ó–∞–ø–∏—à–∏—Ç–µ:**
   - IP –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞
   - –õ–æ–≥–∏–Ω (–æ–±—ã—á–Ω–æ `root`)
   - –ü–∞—Ä–æ–ª—å (–µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ SSH –∫–ª—é—á)

#### –î–ª—è –¥—Ä—É–≥–∏—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤:

–ü—Ä–æ—Ü–µ—Å—Å –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π - –≤—ã–±–∏—Ä–∞–µ—Ç–µ Ubuntu 22.04, –º–∏–Ω–∏–º—É–º 1GB RAM, —Å–æ–∑–¥–∞–µ—Ç–µ —Å–µ—Ä–≤–µ—Ä.

---

### –®–∞–≥ 2: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É (2 –º–∏–Ω—É—Ç—ã)

**–ò–∑ Windows (PowerShell –∏–ª–∏ CMD):**

```powershell
ssh root@YOUR_SERVER_IP
```

**–ü—Ä–∏–º–µ—Ä:**
```powershell
ssh root@185.104.248.123
```

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –ø–æ—è–≤–∏—Ç—Å—è –≤–æ–ø—Ä–æ—Å:
```
Are you sure you want to continue connecting (yes/no)?
```
–í–≤–µ–¥–∏—Ç–µ `yes` –∏ –Ω–∞–∂–º–∏—Ç–µ Enter.

**–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å** (–µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ SSH –∫–ª—é—á)

‚úÖ **–í—ã –ø–æ–¥–∫–ª—é—á–µ–Ω—ã –∫ —Å–µ—Ä–≤–µ—Ä—É!**

---

### –®–∞–≥ 3: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker –∏ Docker Compose (3 –º–∏–Ω—É—Ç—ã)

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç–∏ –∫–æ–º–∞–Ω–¥—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

```bash
# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
apt update && apt upgrade -y

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker
curl -fsSL https://get.docker.com -o get-docker.sh
sh get-docker.sh

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker Compose
curl -L "https://github.com/docker/compose/releases/latest/download/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
chmod +x /usr/local/bin/docker-compose

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
docker --version
docker-compose --version
```

‚úÖ **–î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –≤–µ—Ä—Å–∏–∏ Docker –∏ Docker Compose**

---

### –®–∞–≥ 4: –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è (1 –º–∏–Ω—É—Ç–∞)

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ git (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
apt install -y git

# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∞—à–µ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone https://github.com/Qudy8/WB_CLAUDE.git
cd WB_CLAUDE
```

---

### –®–∞–≥ 5: –°–æ–∑–¥–∞–Ω–∏–µ .env —Ñ–∞–π–ª–∞ (3 –º–∏–Ω—É—Ç—ã)

**–°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –Ω–æ–≤—ã–µ –∫–ª—é—á–∏:**

```bash
python3 generate_keys.py
```

**–ó–∞–ø–∏—à–∏—Ç–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–ª—é—á–∏**, –∑–∞—Ç–µ–º —Å–æ–∑–¥–∞–π—Ç–µ .env —Ñ–∞–π–ª:

```bash
nano .env
```

**–í—Å—Ç–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–µ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ** (–∑–∞–º–µ–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è –Ω–∞ —Å–≤–æ–∏):

```env
SECRET_KEY=–≤–∞—à_—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π_secret_key
ENCRYPTION_KEY=–≤–∞—à_—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π_encryption_key
GOOGLE_CLIENT_ID=–≤–∞—à_google_client_id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=–≤–∞—à_google_client_secret
FLASK_ENV=production
```

**–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª:**
- –ù–∞–∂–º–∏—Ç–µ `Ctrl+X`
- –ù–∞–∂–º–∏—Ç–µ `Y`
- –ù–∞–∂–º–∏—Ç–µ `Enter`

---

### –®–∞–≥ 6: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Google OAuth (2 –º–∏–Ω—É—Ç—ã)

1. **–û—Ç–∫—Ä–æ–π—Ç–µ** https://console.cloud.google.com/
2. **–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç**
3. **APIs & Services** ‚Üí **Credentials**
4. **–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à OAuth 2.0 Client**
5. **–í "Authorized redirect URIs" –¥–æ–±–∞–≤—å—Ç–µ:**

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –¥–æ–º–µ–Ω:
```
https://–≤–∞—à-–¥–æ–º–µ–Ω.ru/auth/callback
```

–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ —Ç–æ–ª—å–∫–æ IP (–≤—Ä–µ–º–µ–Ω–Ω–æ):
```
http://–≤–∞—à-server-ip/auth/callback
```

**–í–∞–∂–Ω–æ:** –î–ª—è production –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–æ–º–µ–Ω —Å HTTPS!

6. **–ù–∞–∂–º–∏—Ç–µ "SAVE"**

---

### –®–∞–≥ 7: –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (2 –º–∏–Ω—É—Ç—ã)

```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ (PostgreSQL, Flask, Nginx)
docker-compose up -d

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose logs -f
```

‚è±Ô∏è **–ü–æ–¥–æ–∂–¥–∏—Ç–µ 1-2 –º–∏–Ω—É—Ç—ã** –ø–æ–∫–∞ Docker —Å–∫–∞—á–∞–µ—Ç –æ–±—Ä–∞–∑—ã –∏ –∑–∞–ø—É—Å—Ç–∏—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã.

–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
‚úî Container wb_claude-db-1     Started
‚úî Container wb_claude-web-1    Started
‚úî Container wb_claude-nginx-1  Started
```

**–ù–∞–∂–º–∏—Ç–µ `Ctrl+C`** —á—Ç–æ–±—ã –≤—ã–π—Ç–∏ –∏–∑ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ª–æ–≥–æ–≤.

---

### –®–∞–≥ 8: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (1 –º–∏–Ω—É—Ç–∞)

```bash
# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
docker-compose exec web python

# –í Python shell –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
from app import app, db
with app.app_context():
    db.create_all()
exit()
```

‚úÖ **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞!**

---

### –®–∞–≥ 9: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã (1 –º–∏–Ω—É—Ç–∞)

**–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:**
```
http://–≤–∞—à-server-ip
```

**–ü—Ä–∏–º–µ—Ä:**
```
http://185.104.248.123
```

‚úÖ **–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤—Ö–æ–¥–∞ - –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç!**

---

## üåê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ–º–µ–Ω–Ω–æ–≥–æ –∏–º–µ–Ω–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –ü–æ–∫—É–ø–∫–∞ –¥–æ–º–µ–Ω–∞

**–†–æ—Å—Å–∏–π—Å–∫–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã:**
- **REG.RU** - https://www.reg.ru (–æ—Ç 99‚ÇΩ/–≥–æ–¥ –¥–ª—è .ru)
- **Timeweb** - https://timeweb.com (–æ—Ç 150‚ÇΩ/–≥–æ–¥)
- **Beget** - https://beget.com (–æ—Ç 199‚ÇΩ/–≥–æ–¥)

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ DNS

–ü–æ—Å–ª–µ –ø–æ–∫—É–ø–∫–∏ –¥–æ–º–µ–Ω–∞:

1. **–í –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ–º–µ–Ω–æ–º** –Ω–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª DNS/DNS –∑–∞–ø–∏—Å–∏
2. **–î–æ–±–∞–≤—å—Ç–µ A-–∑–∞–ø–∏—Å—å:**
   - **–¢–∏–ø:** A
   - **–ò–º—è:** @ (–∏–ª–∏ –æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º)
   - **–ó–Ω–∞—á–µ–Ω–∏–µ:** IP –∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
   - **TTL:** 3600

3. **–î–æ–±–∞–≤—å—Ç–µ A-–∑–∞–ø–∏—Å—å –¥–ª—è www:**
   - **–¢–∏–ø:** A
   - **–ò–º—è:** www
   - **–ó–Ω–∞—á–µ–Ω–∏–µ:** IP –∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
   - **TTL:** 3600

4. ‚è±Ô∏è **–ü–æ–¥–æ–∂–¥–∏—Ç–µ 5-30 –º–∏–Ω—É—Ç** - DNS –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è—é—Ç—Å—è

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ–º–µ–Ω–∞

```bash
ping –≤–∞—à-–¥–æ–º–µ–Ω.ru
```

–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –≤–∞—à IP - –¥–æ–º–µ–Ω –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ!

---

## üîí –ù–∞—Å—Ç—Ä–æ–π–∫–∞ HTTPS —Å Let's Encrypt (5 –º–∏–Ω—É—Ç)

**–í–ê–ñ–ù–û:** –°–Ω–∞—á–∞–ª–∞ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –¥–æ–º–µ–Ω (—Å–º. –≤—ã—à–µ)!

### 1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ nginx

```bash
docker-compose stop nginx
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Certbot

```bash
apt install -y certbot python3-certbot-nginx
```

### 3. –ü–æ–ª—É—á–∏—Ç–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç

```bash
# –ó–∞–º–µ–Ω–∏—Ç–µ your-domain.ru –Ω–∞ –≤–∞—à –¥–æ–º–µ–Ω
certbot certonly --standalone \
  -d your-domain.ru \
  -d www.your-domain.ru \
  --email your-email@example.com \
  --agree-tos \
  --no-eff-email
```

### 4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –≤ –ø—Ä–æ–µ–∫—Ç

```bash
mkdir -p certbot/conf
cp -r /etc/letsencrypt/* certbot/conf/
```

### 5. –û–±–Ω–æ–≤–∏—Ç–µ nginx.conf

```bash
nano nginx.conf
```

**–ù–∞–π–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫–∏:**
```nginx
# Redirect to HTTPS (—Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ SSL)
# location / {
#     return 301 https://$host$request_uri;
# }

# Temporary HTTP access (–∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ SSL)
location / {
```

**–†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ HTTPS —Ä–µ–¥–∏—Ä–µ–∫—Ç –∏ –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–π HTTP:**
```nginx
# Redirect to HTTPS
location / {
    return 301 https://$host$request_uri;
}

# Temporary HTTP access (–∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ)
# location / {
```

**–ù–∞–π–¥–∏—Ç–µ HTTPS —Å–µ–∫—Ü–∏—é –Ω–∏–∂–µ:**
```nginx
# HTTPS server (—Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ SSL)
# server {
```

**–†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –≤–µ—Å—å HTTPS –±–ª–æ–∫** –∏ –∑–∞–º–µ–Ω–∏—Ç–µ `your-domain.com` –Ω–∞ –≤–∞—à –¥–æ–º–µ–Ω.

**–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ:** `Ctrl+X`, `Y`, `Enter`

### 6. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ nginx

```bash
docker-compose up -d
```

### 7. –û–±–Ω–æ–≤–∏—Ç–µ Google OAuth

–î–æ–±–∞–≤—å—Ç–µ –≤ Google Cloud Console:
```
https://–≤–∞—à-–¥–æ–º–µ–Ω.ru/auth/callback
```

‚úÖ **–¢–µ–ø–µ—Ä—å —É –≤–∞—Å HTTPS!**

–û—Ç–∫—Ä–æ–π—Ç–µ: `https://–≤–∞—à-–¥–æ–º–µ–Ω.ru`

---

## üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ SSL

–î–æ–±–∞–≤—å—Ç–µ –∑–∞–¥–∞—á—É –≤ cron –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞:

```bash
crontab -e
```

–î–æ–±–∞–≤—å—Ç–µ —Å—Ç—Ä–æ–∫—É:
```
0 3 * * * certbot renew --quiet && cp -r /etc/letsencrypt/* /root/WB_CLAUDE/certbot/conf/ && cd /root/WB_CLAUDE && docker-compose restart nginx
```

---

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Firewall

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ ufw
apt install -y ufw

# –†–∞–∑—Ä–µ—à–∏—Ç—å SSH (–í–ê–ñ–ù–û!)
ufw allow 22/tcp

# –†–∞–∑—Ä–µ—à–∏—Ç—å HTTP –∏ HTTPS
ufw allow 80/tcp
ufw allow 443/tcp

# –í–∫–ª—é—á–∏—Ç—å firewall
ufw enable

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
ufw status
```

### 2. –û—Ç–∫–ª—é—á–µ–Ω–∏–µ root –¥–æ—Å—Ç—É–ø–∞ –ø–æ –ø–∞—Ä–æ–ª—é (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
nano /etc/ssh/sshd_config
```

–ù–∞–π–¥–∏—Ç–µ –∏ –∏–∑–º–µ–Ω–∏—Ç–µ:
```
PermitRootLogin yes
```
–Ω–∞
```
PermitRootLogin prohibit-password
```

–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ SSH:
```bash
systemctl restart sshd
```

### 3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

```bash
apt install -y unattended-upgrades
dpkg-reconfigure -plow unattended-upgrades
```

---

## üìä –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

```bash
# –í—Å–µ –ª–æ–≥–∏
docker-compose logs -f

# –¢–æ–ª—å–∫–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
docker-compose logs -f web

# –¢–æ–ª—å–∫–æ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
docker-compose logs -f db

# –ü–æ—Å–ª–µ–¥–Ω–∏–µ 100 —Å—Ç—Ä–æ–∫
docker-compose logs --tail=100
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose restart

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Ç–æ–ª—å–∫–æ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
docker-compose restart web
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
# –ü–µ—Ä–µ—Ö–æ–¥ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
cd /root/WB_CLAUDE

# –ü–æ–ª—É—á–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π —Å GitHub
git pull

# –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫
docker-compose down
docker-compose up -d --build
```

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose down

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å —É–¥–∞–ª–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö (–û–°–¢–û–†–û–ñ–ù–û!)
docker-compose down -v
```

---

## üíæ –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –±—ç–∫–∞–ø –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–°–æ–∑–¥–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç:

```bash
nano /root/backup.sh
```

–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:
```bash
#!/bin/bash
cd /root/WB_CLAUDE
docker-compose exec -T db pg_dump -U wb_user wb_claude > /root/backups/wb_$(date +%Y%m%d_%H%M%S).sql
# –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –±—ç–∫–∞–ø–æ–≤ (—Å—Ç–∞—Ä—à–µ 7 –¥–Ω–µ–π)
find /root/backups -name "wb_*.sql" -mtime +7 -delete
```

–°–¥–µ–ª–∞–π—Ç–µ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º:
```bash
chmod +x /root/backup.sh
mkdir -p /root/backups
```

–î–æ–±–∞–≤—å—Ç–µ –≤ cron (–µ–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 3:00):
```bash
crontab -e
```

–î–æ–±–∞–≤—å—Ç–µ:
```
0 3 * * * /root/backup.sh
```

### –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ –±—ç–∫–∞–ø–∞

```bash
cd /root/WB_CLAUDE
docker-compose exec -T db psql -U wb_user wb_claude < /root/backups/wb_20240101_030000.sql
```

---

## üîç –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤

```bash
# CPU –∏ –ø–∞–º—è—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker stats

# –î–∏—Å–∫–æ–≤–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ
df -h

# –†–∞–∑–º–µ—Ä –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker system df
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

```bash
# –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose ps

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ
docker-compose exec web python -c "from app import db; print('DB OK')"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞
curl http://localhost
```

---

## üÜò –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose logs web

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
docker-compose config

# –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞
docker-compose down
docker-compose up -d --force-recreate
```

### –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –ë–î
docker-compose ps db

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ –ë–î
docker-compose logs db

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ë–î
docker-compose restart db
```

### Nginx –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 502

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
docker-compose ps web
docker-compose logs web

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ nginx
docker-compose exec nginx nginx -t

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
docker-compose restart nginx web
```

### –°–∞–π—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ firewall
ufw status

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ—Ä—Ç–æ–≤
netstat -tulpn | grep -E '80|443'

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã nginx
docker-compose logs nginx
```

---

## üí∞ –ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å

| –ü—Ä–æ–≤–∞–π–¥–µ—Ä | –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è | –¶–µ–Ω–∞/–º–µ—Å—è—Ü |
|-----------|--------------|------------|
| Timeweb | 1 CPU, 1GB RAM | 249‚ÇΩ |
| + –î–æ–º–µ–Ω .ru | - | 99‚ÇΩ |
| **–ò–¢–û–ì–û** | - | **~350‚ÇΩ/–º–µ—Å—è—Ü** |

–î–ª—è –Ω–∞—á–∞–ª–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.
–ü—Ä–∏ —Ä–æ—Å—Ç–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –º–æ–∂–Ω–æ —É–≤–µ–ª–∏—á–∏—Ç—å —Ä–µ—Å—É—Ä—Å—ã.

---

## ‚úÖ Checklist –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º

- [ ] VPS —Å–µ—Ä–≤–µ—Ä —Å–æ–∑–¥–∞–Ω (Ubuntu 22.04)
- [ ] Docker –∏ Docker Compose —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- [ ] –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω
- [ ] .env —Ñ–∞–π–ª —Å–æ–∑–¥–∞–Ω —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –∫–ª—é—á–∞–º–∏
- [ ] Google OAuth –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º redirect URI
- [ ] –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ —á–µ—Ä–µ–∑ docker-compose
- [ ] –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞
- [ ] Firewall –Ω–∞—Å—Ç—Ä–æ–µ–Ω (–ø–æ—Ä—Ç—ã 22, 80, 443)
- [ ] –î–æ–º–µ–Ω –Ω–∞—Å—Ç—Ä–æ–µ–Ω (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] HTTPS –Ω–∞—Å—Ç—Ä–æ–µ–Ω (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- [ ] –ë—ç–∫–∞–ø—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–í–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–æ –Ω–∞ —Ä–æ—Å—Å–∏–π—Å–∫–æ–º VPS —Å –ø–æ–ª–Ω—ã–º –∫–æ–Ω—Ç—Ä–æ–ª–µ–º!

**–î–æ—Å—Ç—É–ø:**
- HTTP: `http://–≤–∞—à-ip` –∏–ª–∏ `http://–≤–∞—à-–¥–æ–º–µ–Ω.ru`
- HTTPS: `https://–≤–∞—à-–¥–æ–º–µ–Ω.ru` (–ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ SSL)

**–ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏:**
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Docker: https://docs.docker.com/
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Certbot: https://certbot.eff.org/
- –í–∞—à GitHub: https://github.com/Qudy8/WB_CLAUDE

–£–¥–∞—á–∏! üöÄ
